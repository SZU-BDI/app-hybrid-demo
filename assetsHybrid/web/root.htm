<!doctype html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta charset="UTF-8">
    <!--<meta name="viewport" content="width=device-width,initial-scale=1.0"/>-->
    <meta name="viewport" content="initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
</head>
<body>
<h2>root</h2>
<div id='loading'>
    <table width="100%" height="100%" border="3">
        <tr height="30%">
            <td align="center" valign="bottom">
                <a href="javascript:test_nativejsb()">test_nativejsb()</a>
							<a href="20161104.index.html">test 20161104</a><br/>
<a href="https://almsaeedstudio.com/themes/AdminLTE/index2.html">adminlte</a><br/>
                <a href="javascript:alert('content' + (typeof window));">alert test?</a><br/>

                <a href="javascript:test_web();">Test web()</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>

                <a href="javascript:test_app_activity_open_1();">
                    _app_activity_open (topbar:Y)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_open_2();">
                    _app_activity_open (topbar:N)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_open_3();">
                    _app_activity_open (topbar:M)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_open_4();">
                    _app_activity_open (topbar:F)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_open_5();">
                    _app_activity_open (UiHome topbar:Y)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_open_6();">
                    _app_activity_open (UiHome topbar:M)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                <a href="javascript:test_app_activity_close();">Test test_app_activity_close</a>&nbsp;&nbsp;&nbsp;&nbsp;<br/>

app_set_topbar
<a href="javascript:app_set_topbar('Y');">Y</a>
<a href="javascript:app_set_topbar('N');">N</a>
<a href="javascript:app_set_topbar('F');">F</a>
<a href="javascript:app_set_topbar('M');">M</a>
<br/>

<script src='cmpjsbridge.js'></script>
                <script>

function test_nativejsb(){
    /*
    var rrr=window.cmpjsbridge.callHandler('_app_pingpong',
        {},
    function( rt ){
        alert('open1='+o2s(rt) +",rrr.getStatus()="+rrr.getStatus());
        //alert(rrr.getStatus();
    });
     */
    alert(nativejsb.getVersion());
}
function app_set_topbar(mode){
    window.cmpjsbridge.callHandler('app_set_topbar',
        {"mode":mode},
    function( rt ){
        alert('open1='+o2s(rt));
    });
}
function test_app_activity_open_1(){
window.cmpjsbridge.callHandler('_app_activity_open', {"title":Math.random(),topbar:'Y',address:'http://app.jump.ws/core/apitest.htm?'+Math.random()},function( rt ){
alert('open1='+o2s(rt));
});
}
function test_app_activity_open_2(){
window.cmpjsbridge.callHandler('_app_activity_open', {topbar:'N',address:'http://app.jump.ws/core/apitest.htm?'+Math.random()},function( rt ){
alert('open2='+o2s(rt));
});
}
function test_app_activity_open_3(){
window.cmpjsbridge.callHandler('_app_activity_open', {topbar:'M',address:'http://app.jump.ws/core/apitest.htm?'+Math.random()},function( rt ){
alert('open2='+rt);
});
}
function test_app_activity_open_4(){
window.cmpjsbridge.callHandler('_app_activity_open', {topbar:'F',address:'http://app.jump.ws/core/apitest.htm?'+Math.random()},function( rt ){
alert('open4='+o2s(rt));
});
}
function test_app_activity_open_5(){
    window.cmpjsbridge.callHandler('_app_activity_open', {name:'UiHome', topbar:'Y'}, function( rt ){
alert('open5='+o2s(rt));
});
}
function test_app_activity_open_6(){
window.cmpjsbridge.callHandler('_app_activity_open', {topbar:'M', name:'UiHome'}, function( rt ){
alert('open6='+o2s(rt));
});
}
function test_app_activity_close(){
window.cmpjsbridge.callHandler('_app_activity_close', {},function( rt ){
alert(o2s(rt));
});
}

function test_web(){
window.cmpjsbridge.callHandler('_app_web', {"url":"https://jump.ws/"},function( rt ){
alert(o2s(rt));
});
}
                </script>
                <img id="loading_gif" src='root.gif' onclick='location.reload();'/></td>
        </tr>
        <tr height="70%">
            <td align="center" valign="top">
                <div id='stage'></div>
            </td>
        </tr>
    </table>
</div>
<!-- network checking (by api);
try remote launcher
$appid=_app_get_id();//from app packing..

try get remote config file:
http://app.jump.ws/{$appid}/

set a timeout checker...
-->
<script>
window.onerror=function(a,b,c){
    alert(“Error:”+o2s(a)+";"+o2s(b));
}
	var _appid='core';//tmp.
	//var _u='http://app.jump.ws/'+_appid+'/');//production
	var _u='http://app.jump.ws/'+_appid+'/?'+Math.random();//dev
	window.isRootLoaded=false;
	//document.writeln('<script src="'+_u+'">'+'</scr'+'ipt>');
	//stage.innerHTML=''+window.location.href+'<br/>Checking Network... ';
	/*
	var _tm_check_root = setTimeout(function(){
		if(window.isRootLoaded==false){
			stage.innerHTML='<h2>Network seems down, please check network</h2><input type=button value="Try again" onclick="window.location.reload();"/>';//TODO BETTER UI
			//make a button to reload?
		}
	},15000);
*/
















</script>
